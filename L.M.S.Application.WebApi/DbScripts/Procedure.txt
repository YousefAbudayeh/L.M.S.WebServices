CREATE PROCEDURE dbo.GetAllBooksWithCategories
AS
BEGIN
    SELECT 
        b.Uid AS BookUid,
        b.Title,
        b.Description,
        b.Author,
        c.Name AS CategoryName
    FROM Books b
    LEFT JOIN BookCategories bc ON b.Id = bc.BookId
    LEFT JOIN Categories c ON bc.CategoryId = c.Id;
END
GO